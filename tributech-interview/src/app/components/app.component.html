<div class="mat-tributech-page">
    <button class="mat-tributech-login-button" mat-flat-button (click)="login()">
        <span class="material-icons">login</span>
        <mat-label>&nbsp;Login</mat-label>
    </button>
    <div class="mat-tributech-table-section">
        <div class=" mat-tributech-table">
            <div class="mat-tributech-search">
                <mat-form-field>
                    <mat-label>Search</mat-label>
                    <input matInput name="search" [(ngModel)]="filterString" (keydown.enter)="filterTableElements(filterString)"/>
                    <button mat-icon-button matSuffix (click)="filterTableElements(filterString)">
                        <mat-icon>search</mat-icon>
                    </button>
                </mat-form-field>
                <button class="mat-tributech-button" mat-flat-button (click)="refresh()">
                    <span class="material-icons">refresh</span>
                    <mat-label>&nbsp;Refresh</mat-label>
                </button>
            </div>

            <div class="mat-elevation-z8">
                <table mat-table [dataSource]="agentsDataSource">

                    <!-- isOnline Column -->
                    <ng-container matColumnDef="isOnline">
                        <th mat-header-cell *matHeaderCellDef> Online</th>
                        <td mat-cell *matCellDef="let element">
                            @if (element.isOnline) {
                                <span class="dot green"></span>
                            } @else {
                                <span class="dot red"></span>
                            }
                        </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef> Name</th>
                        <td mat-cell *matCellDef="let element"> {{ element.name }}</td>
                    </ng-container>

                    <!-- Type Column -->
                    <ng-container matColumnDef="deviceType">
                        <th mat-header-cell *matHeaderCellDef> Type</th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-flat-button disabled>{{ element.deviceType }}</button>
                        </td>
                    </ng-container>

                    <!-- Key Storage Type Column -->
                    <ng-container matColumnDef="keyStorageType">
                        <th mat-header-cell *matHeaderCellDef> Key Storage Type</th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-flat-button disabled>{{ element.keyStorageType }}</button>
                        </td>
                    </ng-container>

                    <!-- Proof Kind Column -->
                    <ng-container matColumnDef="proofKind">
                        <th mat-header-cell *matHeaderCellDef> Proof Kind</th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-flat-button disabled>{{ element.proofKind }}</button>
                        </td>
                    </ng-container>

                    <!-- Actions Column -->
                    <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef> Actions</th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-icon-button>
                                <mat-icon>more_vert</mat-icon>
                            </button>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>

                <mat-paginator
                        [pageSizeOptions]="[5, 10, 20]"
                        showFirstLastButtons
                        aria-label="Select page of periodic elements">
                </mat-paginator>
            </div>
        </div>
    </div>
</div>
